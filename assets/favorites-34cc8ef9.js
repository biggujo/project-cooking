import{P as y,n as c,R as h,c as C,h as L,s as S}from"./scroll-up-ad338526.js";const f="All categories",n=12;let E=1;const o={favoritesCategories:document.querySelector(".fav-categories"),favoritesList:document.getElementById("rendered-cards-for-favourites")};o.favoritesCategories.addEventListener("click",A);o.favoritesList.addEventListener("click",b);N();new y({openModalSelector:"[data-header-menu-open]",closeModalSelector:"[data-header-menu-close]",backdropSelector:"[data-header-menu-modal]"});new y({openModalSelector:"[data-pop-up-order-now-open]",closeModalSelector:"[data-pop-up-order-now-close]",backdropSelector:"[data-pop-up-order-now-modal]"});function N(){R()?v():M()}function A({target:e}){if(e.nodeName!=="BUTTON")return;const t=e.dataset.category;w(),P(t),u(),l({givenCategory:t}).catch(c.Notify.failure).finally(()=>g())}function b({target:e}){e.nodeName!=="svg"&&e.nodeName!=="use"||(u(),l({givenCategory:e.textContent}).then(t=>{m(t),g()}))}function M(){u(),l({page:E}).then(e=>{m(e),g()}).catch(c.Notify.failure)}async function l({givenCategory:e,page:t}){try{const i=JSON.parse(localStorage.getItem("favorites"));o.favoritesList.innerHTML="";const p=i.map(r=>new h().init(r));let s=await Promise.all(p),a=s;return e&&e!==f&&(t&&(s=s.slice(t*n,(t+1)*n)),a=s.filter(r=>r.recipeData.category===e)),document.getElementById("pagination").style.display=a.length>n?"block":"none",a.length>n&&(document.getElementById("pagination").style.display="block",t||(t=1),t===1&&C({totalItems:a.length,itemsPerPage:n,afterMove:r=>{l({givenCategory:e,page:r.page})}})),t&&(a=a.slice((t-1)*n,t*n)),a=new Set(a.map(r=>{const d=document.createElement("li");return d.classList.add("fav-categories-item"),d.appendChild(r.recipeCardEl),o.favoritesList.appendChild(d),r.recipeData.category})),a}catch(i){c.Notify.failure(i)}}function m(e){o.favoritesCategories.innerHTML="",(e===null||e.size===0)&&v(),t(f),[...e].sort().forEach(t);function t(i){o.favoritesCategories.insertAdjacentHTML("beforeend",`<button data-category='${i}' class='button-fav-category${i===f?" button-fav-category-active":""}'>${i}</button>`)}}function w(){o.favoritesCategories.querySelectorAll("[data-category]").forEach(t=>t.classList.remove("button-fav-category-active"))}function P(e){o.favoritesCategories.querySelector(`[data-category="${e}"]`).classList.add("button-fav-category-active")}function u(){o.favoritesList.style.height=o.favoritesList.offsetHeight+"px"}function g(){o.favoritesList.style.height="auto"}function R(){try{const e=JSON.parse(localStorage.getItem("favorites"));return e===null||e.length===0}catch(e){c.Notify.failure(e)}}function v(){document.querySelector(".fav-no-recipes").classList.remove("is-hidden"),document.querySelector(".fav-categories-container").style.display="none"}L();S();
